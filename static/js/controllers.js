// Generated by CoffeeScript 1.7.1
(function() {
  'use strict';
  angular.module('cocktail.controllers', []).controller('SearchCtrl', [
    '$scope', 'Ingredients', function($scope, Ingredients) {
      var searchIngredients;
      $scope.ingredients = [];
      searchIngredients = function(searchString) {
        return Ingredients.search(searchString, function(err, ingredients) {
          return $scope.articles = ingredients;
        });
      };
      $scope.removeIngredient = function(ingredient) {
        var index;
        index = $scope.ingredients.indexOf(ingredient);
        if (index > -1) {
          return $scope.ingredients.splice(index, 1);
        }
      };
      $scope.addIngredient = function(ingredient) {
        $scope.ingredients.push(ingredient);
        $scope.ingredient = null;
        return $scope.articles = [];
      };
      return $scope.onChange = function() {
        if ($scope.ingredient === null || Â $scope.ingredient === void 0) {
          return;
        }
        if ($scope.ingredient.length > 1) {
          return searchIngredients($scope.ingredient);
        } else {
          return $scope.articles = [];
        }
      };
    }
  ]);

}).call(this);
